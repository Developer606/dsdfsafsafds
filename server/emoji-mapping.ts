// Emoji mappings for expressions
// Maps text expressions to their emoji equivalents
export const expressionToEmojiMap: Record<string, string> = {
  // Basic expressions
  "*nods*": "ğŸ‘",
  "*shakes head*": "ğŸ™…",
  "*laughs*": "ğŸ˜‚",
  "*laughs softly*": "ğŸ˜Š",
  "*laughs nervously*": "ğŸ˜…",
  "*giggles*": "ğŸ˜„",
  "*snorts*": "ğŸ˜†",
  "*smirks*": "ğŸ˜",
  "*grins*": "ğŸ˜",
  "*grins sheepishly*": "ğŸ˜…",
  "*smiles warmly*": "ğŸ™‚",
  "*smiles sadly*": "ğŸ˜”",
  "*smiles weakly*": "ğŸ˜•",
  "*frowns*": "â˜¹ï¸",
  "*pouts*": "ğŸ˜",
  "*gasps*": "ğŸ˜¯",
  "*gasps loudly*": "ğŸ˜²",
  "*sighs*": "ğŸ˜”",
  "*sniffs*": "ğŸ¤§",
  "*sneezes*": "ğŸ¤§",
  "*coughs*": "ğŸ˜·",
  "*yawns*": "ğŸ¥±",
  "*cries*": "ğŸ˜¢",
  "*sobs*": "ğŸ˜­",
  "*wails*": "ğŸ˜©",
  "*whimpers*": "ğŸ˜Ÿ",
  "*gulps*": "ğŸ˜°",
  "*winces*": "ğŸ˜£",
  "*grimaces*": "ğŸ˜¬",
  "*groans*": "ğŸ˜©",
  "*moans*": "ğŸ˜«",
  "*screams*": "ğŸ˜±",
  "*shrieks*": "ğŸ˜¨",
  "*gasps dramatically*": "ğŸ˜§",
  "*stares*": "ğŸ‘€",
  "*stares blankly*": "ğŸ˜",
  "*stares in shock*": "ğŸ˜²",
  "*narrows eyes*": "ğŸ˜’",
  "*glares*": "ğŸ˜ ",
  "*squints*": "ğŸ˜‘",
  "*rolls eyes*": "ğŸ™„",
  "*raises eyebrow*": "ğŸ¤¨",
  "*arches brow*": "ğŸ¤”",
  "*tilts head*": "ğŸ¤”",
  "*cocks head*": "ğŸ§",
  "*nods slowly*": "ğŸ‘Œ",
  "*shrugs*": "ğŸ¤·",
  "*facepalms*": "ğŸ¤¦",
  "*holds head in hands*": "ğŸ¤¯",
  "*rubs temples*": "ğŸ˜£",
  "*covers face*": "ğŸ˜–",
  "*scrunches up face*": "ğŸ˜•",
  "*looks confused*": "ğŸ˜•",
  "*looks surprised*": "ğŸ˜®",
  "*looks scared*": "ğŸ˜¨",
  "*looks amused*": "ğŸ˜„",
  "*looks unimpressed*": "ğŸ˜‘",
  "*looks skeptical*": "ğŸ§",
  "*looks annoyed*": "ğŸ˜’",
  "*looks angry*": "ğŸ˜ ",
  "*looks disappointed*": "ğŸ˜",
  "*looks hopeful*": "ğŸ¤",
  "*looks excited*": "ğŸ˜ƒ",
  "*looks embarrassed*": "ğŸ˜³",
  "*blushes*": "ğŸ˜Š",
  "*turns red*": "ğŸ˜³",
  "*giggles nervously*": "ğŸ˜…",
  "*covers mouth*": "ğŸ¤­",
  "*waves*": "ğŸ‘‹",
  "*waves shyly*": "ğŸ‘‹",
  "*gives thumbs up*": "ğŸ‘",
  "*gives thumbs down*": "ğŸ‘",
  "*claps*": "ğŸ‘",
  "*cheers*": "ğŸ‰",
  "*jumps*": "ğŸ•´ï¸",
  "*dances*": "ğŸ’ƒ",
  "*bows*": "ğŸ™‡",
  "*salutes*": "ğŸ«¡",
  "*points*": "ğŸ‘‰",
  "*points at self*": "ğŸ™‹",
  "*raises hand*": "âœ‹",
  "*lowers hand*": "ğŸ¤š",
  "*holds up hand*": "âœ‹",
  "*crosses arms*": "ğŸ˜’",
  "*folds arms*": "ğŸ˜‘",
  "*puts hands on hips*": "ğŸ˜¤",
  "*shrugs helplessly*": "ğŸ¤·",
  "*nods eagerly*": "ğŸ˜ƒ",
  "*nods solemnly*": "ğŸ˜”",
  "*shakes head slowly*": "ğŸ˜",
  "*taps foot*": "ğŸ¦¶",
  "*stomps*": "ğŸ˜ ",
  "*paces*": "ğŸ§â€â™‚ï¸",
  "*sits down*": "ğŸª‘",
  "*stands up*": "ğŸ§",
  "*leans back*": "ğŸ˜Œ",
  "*leans forward*": "ğŸ§",
  "*tilts head in confusion*": "ğŸ¤”",
  "*fidgets*": "ğŸ«¨",
  "*bites lip*": "ğŸ˜¬",
  "*chews nails*": "ğŸ˜¬",
  "*scratches head*": "ğŸ¤·",
  "*rubs neck*": "ğŸ˜“",
  "*looks away*": "ğŸ˜³",
  "*avoids eye contact*": "ğŸ™ˆ",
  "*stares at floor*": "ğŸ˜",
  
  // Additional expressions
  "*grovels*": "ğŸ™‡",
  "*pleads*": "ğŸ¥º",
  "*begs*": "ğŸ™",
  "*prays*": "ğŸ™",
  "*meditates*": "ğŸ§˜",
  "*zones out*": "ğŸ’¤",
  "*daydreams*": "ğŸ’­",
  "*spaces out*": "ğŸ˜¶â€ğŸŒ«ï¸",
  "*snaps out of it*": "ğŸ˜³",
  "*blanks out*": "ğŸ˜",
  "*looks bored*": "ğŸ˜’",
  "*taps fingers*": "ğŸ«°",
  "*presses lips together*": "ğŸ˜¶",
  "*grins mischievously*": "ğŸ˜",
  "*twirls mustache*": "ğŸ§",
  "*looks innocent*": "ğŸ˜‡",
  "*pretends not to know*": "ğŸ¤¥",
  "*acts surprised*": "ğŸ˜²",

  // Common text expressions
  "*sigh*": "ğŸ˜”",
  "*smile*": "ğŸ™‚",
  "*laugh*": "ğŸ˜‚",
  "*crying*": "ğŸ˜¢",
  "*blush*": "ğŸ˜Š",
  "*happy*": "ğŸ˜„",
  "*sad*": "ğŸ˜”",
  "*angry*": "ğŸ˜ ",
  "*confused*": "ğŸ˜•",
  "*shocked*": "ğŸ˜²",
  "*thumbs up*": "ğŸ‘",
  "*thumbs down*": "ğŸ‘",
  "*ok*": "ğŸ‘Œ",
  "*yes*": "âœ…",
  "*no*": "âŒ",
  "*hug*": "ğŸ¤—",
  "*wave*": "ğŸ‘‹",
  "*shrug*": "ğŸ¤·",
  "*eye roll*": "ğŸ™„",
  "*wink*": "ğŸ˜‰",
  "*facepalm*": "ğŸ¤¦",
};

// Function to replace text expressions with emojis
export function replaceExpressionsWithEmojis(text: string): string {
  let result = text;
  
  // First, handle the case where expressions are wrapped with asterisks
  for (const [expression, emoji] of Object.entries(expressionToEmojiMap)) {
    // Replace the exact expression (with asterisks)
    const regex = new RegExp(expression.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    result = result.replace(regex, emoji);
  }
  
  return result;
}

// Function to preprocess user message to preserve emojis
export function preserveEmojis(text: string): string {
  return text; // Already preserved as-is since they're Unicode characters
}